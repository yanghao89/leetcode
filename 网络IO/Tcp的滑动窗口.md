# TCP 窗口大小由哪一方决定

```text
 窗口大小由哪一方决定
 TCP头部有一个字段叫Window, 也就是窗口大小。
 这个字段是接收端告诉发送端自己还有多少缓冲区可以接收数据。
 发送端就可以根据这个接收端的处理能力来发送数据。而不会导致接收端处理不过来。
 所以窗口的大小是由接收方的决定的
```

# TCP 窗口 大小

```text
窗口大小就是指无序等待确认应答，而可以继续发送数据的最大值。
窗口的实现实际上是操作系统内核开辟的一个缓存空,发送方主机在等到确认应答返回之前，必须在缓冲区中保留已发送
的数据如果按期收到确认应答，此时数据就可以在缓存去清除
```

# TCP 重传机制 (超时重传)(快速重传) (SACK) (D-SACK)

```text
 超时重传
 TCP 会有一下两种情况会发生超时重传: 1 数据包丢失 2 确认应答丢失
 RTT （Round-Trip Time 往返延时）就是数据从网络端传送到另一端所需的时间 就是包的往返时间
 超时重传时间是以RTO （retransmission timeout 超时重传时间）表示
 
```

```text
TCP 还有另外一个种快速重传 Fast Retransmit 机制
它不以时间驱动,而是以数据驱动重传
快速重传的工作方式是当收三个相同的ACK报文时,会在定时器过期之前,重传丢失的报文段
```

```text
SACK方法
Selective Acknowledgment 选择性确认
这种方式需要在TCP头部 字段里加一个SACK的东西 
```

```text
Duplicate SACK
主要使用SACK 来告诉发送方 有哪些数据被重复接收了。
D-SACk好处
1、可以让发送方 知道，是发出去的包丢了，还是接收方回应的ACK包丢了
2、可以知道是不是发送方的数据包被网络延迟了
3、可以知道网络中是不是把发送方的数据包給复制了
```